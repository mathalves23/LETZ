{"ast":null,"code":"import _objectWithoutProperties from\"/Users/mdearaujo/Downloads/LETZ/frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";import _objectSpread from\"/Users/mdearaujo/Downloads/LETZ/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";const _excluded=[\"confirmPassword\"];import React,{useState,useEffect}from'react';import{Container,Paper,Box,TextField,Button,Typography,Link,Alert,CircularProgress,Grid}from'@mui/material';import{useNavigate,Link as RouterLink}from'react-router-dom';import{useAppDispatch,useAppSelector}from'../hooks/redux';import{register,clearError}from'../store/slices/authSlice';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RegisterPage=()=>{const navigate=useNavigate();const dispatch=useAppDispatch();const{isLoading,error,isAuthenticated}=useAppSelector(state=>state.auth);const[formData,setFormData]=useState({firstName:'',lastName:'',username:'',email:'',password:'',confirmPassword:'',phoneNumber:'',bio:''});const[validationErrors,setValidationErrors]=useState([]);useEffect(()=>{if(isAuthenticated){navigate('/dashboard');}},[isAuthenticated,navigate]);useEffect(()=>{// Limpar erros quando componente monta\ndispatch(clearError());},[dispatch]);const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));// Limpar erros de validação quando usuário digita\nif(validationErrors.length>0){setValidationErrors([]);}};const validateForm=()=>{const errors=[];if(!formData.firstName.trim()){errors.push('Nome é obrigatório');}if(!formData.lastName.trim()){errors.push('Sobrenome é obrigatório');}if(!formData.username.trim()){errors.push('Nome de usuário é obrigatório');}else if(formData.username.length<3){errors.push('Nome de usuário deve ter pelo menos 3 caracteres');}if(!formData.email.trim()){errors.push('Email é obrigatório');}else if(!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)){errors.push('Email inválido');}if(!formData.password.trim()){errors.push('Senha é obrigatória');}else if(formData.password.length<6){errors.push('Senha deve ter pelo menos 6 caracteres');}if(formData.password!==formData.confirmPassword){errors.push('Senhas não coincidem');}return errors;};const handleSubmit=async e=>{e.preventDefault();const errors=validateForm();if(errors.length>0){setValidationErrors(errors);return;}const{confirmPassword}=formData,registrationData=_objectWithoutProperties(formData,_excluded);dispatch(register(registrationData));};return/*#__PURE__*/_jsx(Container,{component:\"main\",maxWidth:\"sm\",children:/*#__PURE__*/_jsx(Box,{sx:{marginTop:4,marginBottom:4,display:'flex',flexDirection:'column',alignItems:'center'},children:/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{padding:4,display:'flex',flexDirection:'column',alignItems:'center',width:'100%'},children:[/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h4\",sx:{mb:2,fontWeight:'bold',color:'primary.main'},children:\"LETZ\"}),/*#__PURE__*/_jsx(Typography,{component:\"h2\",variant:\"h5\",sx:{mb:3},children:\"Criar Conta\"}),(error||validationErrors.length>0)&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{width:'100%',mb:2},children:error||validationErrors.map((err,index)=>/*#__PURE__*/_jsx(\"div\",{children:err},index))}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,sx:{width:'100%'},children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"firstName\",label:\"Nome\",name:\"firstName\",autoComplete:\"given-name\",autoFocus:true,value:formData.firstName,onChange:handleChange,disabled:isLoading})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"lastName\",label:\"Sobrenome\",name:\"lastName\",autoComplete:\"family-name\",value:formData.lastName,onChange:handleChange,disabled:isLoading})})]}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"username\",label:\"Nome de Usu\\xE1rio\",name:\"username\",autoComplete:\"username\",value:formData.username,onChange:handleChange,disabled:isLoading,helperText:\"M\\xEDnimo 3 caracteres\"}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"email\",label:\"Email\",name:\"email\",autoComplete:\"email\",type:\"email\",value:formData.email,onChange:handleChange,disabled:isLoading}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",fullWidth:true,id:\"phoneNumber\",label:\"Telefone (opcional)\",name:\"phoneNumber\",autoComplete:\"tel\",type:\"tel\",value:formData.phoneNumber,onChange:handleChange,disabled:isLoading}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",fullWidth:true,id:\"bio\",label:\"Bio (opcional)\",name:\"bio\",multiline:true,rows:2,value:formData.bio,onChange:handleChange,disabled:isLoading,helperText:\"Conte um pouco sobre voc\\xEA\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"password\",label:\"Senha\",name:\"password\",type:\"password\",autoComplete:\"new-password\",value:formData.password,onChange:handleChange,disabled:isLoading,helperText:\"M\\xEDnimo 6 caracteres\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"confirmPassword\",label:\"Confirmar Senha\",name:\"confirmPassword\",type:\"password\",autoComplete:\"new-password\",value:formData.confirmPassword,onChange:handleChange,disabled:isLoading})})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",sx:{mt:3,mb:2},disabled:isLoading,children:isLoading?/*#__PURE__*/_jsx(CircularProgress,{size:24,color:\"inherit\"}):'Criar Conta'}),/*#__PURE__*/_jsx(Box,{sx:{textAlign:'center'},children:/*#__PURE__*/_jsx(Link,{component:RouterLink,to:\"/login\",variant:\"body2\",children:\"J\\xE1 tem uma conta? Fa\\xE7a login\"})})]})]})})});};export default RegisterPage;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}