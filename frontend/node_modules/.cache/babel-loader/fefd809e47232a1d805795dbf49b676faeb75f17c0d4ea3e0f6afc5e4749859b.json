{"ast":null,"code":"var _jsxFileName = \"/Users/mdearaujo/Downloads/LETZ/frontend/src/pages/FriendsPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Box, Container, Typography, Paper, Tabs, Tab, List, ListItem, ListItemText, ListItemAvatar, ListItemSecondaryAction, Avatar, Button, TextField, InputAdornment, IconButton, Chip, Alert, CircularProgress, Dialog, DialogTitle, DialogContent, DialogActions } from '@mui/material';\nimport { Search as SearchIcon, PersonAdd as PersonAddIcon, Check as CheckIcon, Close as CloseIcon, Person as PersonIcon, Message as MessageIcon } from '@mui/icons-material';\nimport { useAppDispatch, useAppSelector } from '../hooks/redux';\nimport { sendFriendRequest, acceptFriendRequest, rejectFriendRequest, fetchFriends, fetchPendingRequests } from '../store/slices/friendshipSlice';\nimport { userAPI } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction TabPanel(props) {\n  const {\n    children,\n    value,\n    index,\n    ...other\n  } = props;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    role: \"tabpanel\",\n    hidden: value !== index,\n    id: `friends-tabpanel-${index}`,\n    \"aria-labelledby\": `friends-tab-${index}`,\n    ...other,\n    children: value === index && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        py: 3\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 27\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_c = TabPanel;\nfunction FriendsPage() {\n  _s();\n  const dispatch = useAppDispatch();\n  const {\n    friends = [],\n    pendingRequests = [],\n    sentRequests = [],\n    isLoading,\n    error\n  } = useAppSelector(state => state.friendships);\n  const [tabValue, setTabValue] = useState(0);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [isSearching, setIsSearching] = useState(false);\n  const [confirmDialog, setConfirmDialog] = useState({\n    open: false,\n    action: 'accept'\n  });\n  useEffect(() => {\n    dispatch(fetchFriends());\n    dispatch(fetchPendingRequests());\n  }, [dispatch]);\n  const handleTabChange = (event, newValue) => {\n    setTabValue(newValue);\n  };\n  const handleSearch = async () => {\n    if (searchQuery.trim()) {\n      setIsSearching(true);\n      try {\n        const response = await userAPI.searchUsers(searchQuery);\n        setSearchResults(response.data);\n      } catch (error) {\n        console.error('Erro ao buscar usuários:', error);\n        setSearchResults([]);\n      } finally {\n        setIsSearching(false);\n      }\n    }\n  };\n  const handleSearchKeyPress = event => {\n    if (event.key === 'Enter') {\n      handleSearch();\n    }\n  };\n  const handleSendFriendRequest = userId => {\n    dispatch(sendFriendRequest(userId));\n  };\n  const handleRespondToRequest = (friendshipId, accept) => {\n    if (accept) {\n      dispatch(acceptFriendRequest(friendshipId));\n    } else {\n      dispatch(rejectFriendRequest(friendshipId));\n    }\n    setConfirmDialog({\n      open: false,\n      action: 'accept'\n    });\n  };\n  const openConfirmDialog = (action, friendshipId, userName) => {\n    setConfirmDialog({\n      open: true,\n      action,\n      friendshipId,\n      userName\n    });\n  };\n  const closeConfirmDialog = () => {\n    setConfirmDialog({\n      open: false,\n      action: 'accept'\n    });\n  };\n  const getStatusColor = status => {\n    switch (status) {\n      case 'ACCEPTED':\n        return 'success';\n      case 'PENDING':\n        return 'warning';\n      case 'REJECTED':\n        return 'error';\n      default:\n        return 'default';\n    }\n  };\n  const getFullName = (firstName, lastName) => {\n    return `${firstName} ${lastName}`.trim();\n  };\n  const renderSearchResults = () => /*#__PURE__*/_jsxDEV(List, {\n    children: [searchResults.map(user => /*#__PURE__*/_jsxDEV(ListItem, {\n      children: [/*#__PURE__*/_jsxDEV(ListItemAvatar, {\n        children: /*#__PURE__*/_jsxDEV(Avatar, {\n          children: /*#__PURE__*/_jsxDEV(PersonIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n        primary: getFullName(user.firstName, user.lastName),\n        secondary: `${user.email} • @${user.username}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ListItemSecondaryAction, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          size: \"small\",\n          startIcon: /*#__PURE__*/_jsxDEV(PersonAddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 26\n          }, this),\n          onClick: () => handleSendFriendRequest(user.id),\n          disabled: isLoading,\n          children: \"Adicionar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 11\n      }, this)]\n    }, user.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }, this)), searchResults.length === 0 && searchQuery && !isSearching && /*#__PURE__*/_jsxDEV(ListItem, {\n      children: /*#__PURE__*/_jsxDEV(ListItemText, {\n        primary: \"Nenhum usu\\xE1rio encontrado\",\n        secondary: \"Tente buscar por outro nome ou email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 171,\n    columnNumber: 5\n  }, this);\n  const renderFriends = () => /*#__PURE__*/_jsxDEV(List, {\n    children: [friends.map(friend => /*#__PURE__*/_jsxDEV(ListItem, {\n      children: [/*#__PURE__*/_jsxDEV(ListItemAvatar, {\n        children: /*#__PURE__*/_jsxDEV(Avatar, {\n          children: /*#__PURE__*/_jsxDEV(PersonIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n        primary: getFullName(friend.firstName, friend.lastName),\n        secondary: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"text.secondary\",\n            children: friend.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Chip, {\n            label: friend.isOnline ? 'Online' : 'Offline',\n            size: \"small\",\n            color: friend.isOnline ? 'success' : 'default',\n            variant: \"outlined\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ListItemSecondaryAction, {\n        children: /*#__PURE__*/_jsxDEV(IconButton, {\n          color: \"primary\",\n          size: \"small\",\n          children: /*#__PURE__*/_jsxDEV(MessageIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 11\n      }, this)]\n    }, friend.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 9\n    }, this)), friends.length === 0 && /*#__PURE__*/_jsxDEV(ListItem, {\n      children: /*#__PURE__*/_jsxDEV(ListItemText, {\n        primary: \"Nenhum amigo ainda\",\n        secondary: \"Que tal buscar por alguns amigos?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 208,\n    columnNumber: 5\n  }, this);\n  const renderPendingRequests = () => /*#__PURE__*/_jsxDEV(List, {\n    children: [pendingRequests.map(request => /*#__PURE__*/_jsxDEV(ListItem, {\n      children: [/*#__PURE__*/_jsxDEV(ListItemAvatar, {\n        children: /*#__PURE__*/_jsxDEV(Avatar, {\n          children: /*#__PURE__*/_jsxDEV(PersonIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n        primary: getFullName(request.requester.firstName, request.requester.lastName),\n        secondary: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"text.secondary\",\n            children: request.requester.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Chip, {\n            label: request.status,\n            size: \"small\",\n            color: getStatusColor(request.status),\n            variant: \"outlined\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ListItemSecondaryAction, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            gap: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(IconButton, {\n            color: \"success\",\n            size: \"small\",\n            onClick: () => openConfirmDialog('accept', request.id, getFullName(request.requester.firstName, request.requester.lastName)),\n            children: /*#__PURE__*/_jsxDEV(CheckIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            color: \"error\",\n            size: \"small\",\n            onClick: () => openConfirmDialog('reject', request.id, getFullName(request.requester.firstName, request.requester.lastName)),\n            children: /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 11\n      }, this)]\n    }, request.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 9\n    }, this)), pendingRequests.length === 0 && /*#__PURE__*/_jsxDEV(ListItem, {\n      children: /*#__PURE__*/_jsxDEV(ListItemText, {\n        primary: \"Nenhuma solicita\\xE7\\xE3o pendente\",\n        secondary: \"Voc\\xEA est\\xE1 em dia com suas solicita\\xE7\\xF5es de amizade!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 251,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"md\",\n    sx: {\n      py: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      component: \"h1\",\n      gutterBottom: true,\n      sx: {\n        mb: 4\n      },\n      children: \"\\uD83D\\uDC65 Amigos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 3\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 3,\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          borderBottom: 1,\n          borderColor: 'divider'\n        },\n        children: /*#__PURE__*/_jsxDEV(Tabs, {\n          value: tabValue,\n          onChange: handleTabChange,\n          \"aria-label\": \"friends tabs\",\n          children: [/*#__PURE__*/_jsxDEV(Tab, {\n            label: `Buscar Amigos`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            label: `Meus Amigos (${friends.length})`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            label: `Solicitações (${pendingRequests.length})`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n        value: tabValue,\n        index: 0,\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mb: 3\n          },\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            placeholder: \"Buscar amigos por nome ou email...\",\n            value: searchQuery,\n            onChange: e => setSearchQuery(e.target.value),\n            onKeyPress: handleSearchKeyPress,\n            InputProps: {\n              startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                position: \"start\",\n                children: /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 19\n              }, this),\n              endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                position: \"end\",\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"contained\",\n                  onClick: handleSearch,\n                  disabled: isSearching || !searchQuery.trim(),\n                  children: isSearching ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                    size: 20\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 356,\n                    columnNumber: 38\n                  }, this) : 'Buscar'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 19\n              }, this)\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 11\n        }, this), renderSearchResults()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n        value: tabValue,\n        index: 1,\n        children: renderFriends()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n        value: tabValue,\n        index: 2,\n        children: renderPendingRequests()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: confirmDialog.open,\n      onClose: closeConfirmDialog,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: confirmDialog.action === 'accept' ? 'Aceitar Solicitação' : 'Rejeitar Solicitação'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          children: confirmDialog.action === 'accept' ? `Deseja aceitar a solicitação de amizade de ${confirmDialog.userName}?` : `Deseja rejeitar a solicitação de amizade de ${confirmDialog.userName}?`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: closeConfirmDialog,\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => handleRespondToRequest(confirmDialog.friendshipId, confirmDialog.action === 'accept'),\n          color: confirmDialog.action === 'accept' ? 'success' : 'error',\n          variant: \"contained\",\n          children: confirmDialog.action === 'accept' ? 'Aceitar' : 'Rejeitar'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 315,\n    columnNumber: 5\n  }, this);\n}\n_s(FriendsPage, \"GeWLpIHydG4dJ2mYZdo4gJ3lyg0=\", false, function () {\n  return [useAppDispatch, useAppSelector];\n});\n_c2 = FriendsPage;\nexport default FriendsPage;\nvar _c, _c2;\n$RefreshReg$(_c, \"TabPanel\");\n$RefreshReg$(_c2, \"FriendsPage\");","map":{"version":3,"names":["React","useState","useEffect","Box","Container","Typography","Paper","Tabs","Tab","List","ListItem","ListItemText","ListItemAvatar","ListItemSecondaryAction","Avatar","Button","TextField","InputAdornment","IconButton","Chip","Alert","CircularProgress","Dialog","DialogTitle","DialogContent","DialogActions","Search","SearchIcon","PersonAdd","PersonAddIcon","Check","CheckIcon","Close","CloseIcon","Person","PersonIcon","Message","MessageIcon","useAppDispatch","useAppSelector","sendFriendRequest","acceptFriendRequest","rejectFriendRequest","fetchFriends","fetchPendingRequests","userAPI","jsxDEV","_jsxDEV","TabPanel","props","children","value","index","other","role","hidden","id","sx","py","fileName","_jsxFileName","lineNumber","columnNumber","_c","FriendsPage","_s","dispatch","friends","pendingRequests","sentRequests","isLoading","error","state","friendships","tabValue","setTabValue","searchQuery","setSearchQuery","searchResults","setSearchResults","isSearching","setIsSearching","confirmDialog","setConfirmDialog","open","action","handleTabChange","event","newValue","handleSearch","trim","response","searchUsers","data","console","handleSearchKeyPress","key","handleSendFriendRequest","userId","handleRespondToRequest","friendshipId","accept","openConfirmDialog","userName","closeConfirmDialog","getStatusColor","status","getFullName","firstName","lastName","renderSearchResults","map","user","primary","secondary","email","username","variant","size","startIcon","onClick","disabled","length","renderFriends","friend","display","alignItems","gap","color","label","isOnline","renderPendingRequests","request","requester","maxWidth","component","gutterBottom","mb","severity","elevation","borderBottom","borderColor","onChange","fullWidth","placeholder","e","target","onKeyPress","InputProps","startAdornment","position","endAdornment","onClose","_c2","$RefreshReg$"],"sources":["/Users/mdearaujo/Downloads/LETZ/frontend/src/pages/FriendsPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Box,\n  Container,\n  Typography,\n  Paper,\n  Tabs,\n  Tab,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemAvatar,\n  ListItemSecondaryAction,\n  Avatar,\n  Button,\n  TextField,\n  InputAdornment,\n  IconButton,\n  Chip,\n  Alert,\n  CircularProgress,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n} from '@mui/material';\nimport {\n  Search as SearchIcon,\n  PersonAdd as PersonAddIcon,\n  Check as CheckIcon,\n  Close as CloseIcon,\n  Person as PersonIcon,\n  Message as MessageIcon,\n} from '@mui/icons-material';\nimport { useAppDispatch, useAppSelector } from '../hooks/redux';\nimport {\n  sendFriendRequest,\n  acceptFriendRequest,\n  rejectFriendRequest,\n  fetchFriends,\n  fetchPendingRequests,\n  clearError,\n} from '../store/slices/friendshipSlice';\nimport { userAPI } from '../services/api';\n\ninterface TabPanelProps {\n  children?: React.ReactNode;\n  index: number;\n  value: number;\n}\n\nfunction TabPanel(props: TabPanelProps) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`friends-tabpanel-${index}`}\n      aria-labelledby={`friends-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box sx={{ py: 3 }}>{children}</Box>}\n    </div>\n  );\n}\n\ninterface SearchUser {\n  id: number;\n  firstName: string;\n  lastName: string;\n  email: string;\n  username: string;\n  points?: number;\n}\n\nfunction FriendsPage() {\n  const dispatch = useAppDispatch();\n  const {\n    friends = [],\n    pendingRequests = [],\n    sentRequests = [],\n    isLoading,\n    error,\n  } = useAppSelector((state) => state.friendships);\n\n  const [tabValue, setTabValue] = useState(0);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchResults, setSearchResults] = useState<SearchUser[]>([]);\n  const [isSearching, setIsSearching] = useState(false);\n  const [confirmDialog, setConfirmDialog] = useState<{\n    open: boolean;\n    action: 'accept' | 'reject';\n    friendshipId?: number;\n    userName?: string;\n  }>({ open: false, action: 'accept' });\n\n  useEffect(() => {\n    dispatch(fetchFriends());\n    dispatch(fetchPendingRequests());\n  }, [dispatch]);\n\n  const handleTabChange = (event: React.SyntheticEvent, newValue: number) => {\n    setTabValue(newValue);\n  };\n\n  const handleSearch = async () => {\n    if (searchQuery.trim()) {\n      setIsSearching(true);\n      try {\n        const response = await userAPI.searchUsers(searchQuery);\n        setSearchResults(response.data);\n      } catch (error) {\n        console.error('Erro ao buscar usuários:', error);\n        setSearchResults([]);\n      } finally {\n        setIsSearching(false);\n      }\n    }\n  };\n\n  const handleSearchKeyPress = (event: React.KeyboardEvent) => {\n    if (event.key === 'Enter') {\n      handleSearch();\n    }\n  };\n\n  const handleSendFriendRequest = (userId: number) => {\n    dispatch(sendFriendRequest(userId));\n  };\n\n  const handleRespondToRequest = (friendshipId: number, accept: boolean) => {\n    if (accept) {\n      dispatch(acceptFriendRequest(friendshipId));\n    } else {\n      dispatch(rejectFriendRequest(friendshipId));\n    }\n    setConfirmDialog({ open: false, action: 'accept' });\n  };\n\n  const openConfirmDialog = (\n    action: 'accept' | 'reject',\n    friendshipId: number,\n    userName: string\n  ) => {\n    setConfirmDialog({ open: true, action, friendshipId, userName });\n  };\n\n  const closeConfirmDialog = () => {\n    setConfirmDialog({ open: false, action: 'accept' });\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'ACCEPTED':\n        return 'success';\n      case 'PENDING':\n        return 'warning';\n      case 'REJECTED':\n        return 'error';\n      default:\n        return 'default';\n    }\n  };\n\n  const getFullName = (firstName: string, lastName: string) => {\n    return `${firstName} ${lastName}`.trim();\n  };\n\n  const renderSearchResults = () => (\n    <List>\n      {searchResults.map((user) => (\n        <ListItem key={user.id}>\n          <ListItemAvatar>\n            <Avatar>\n              <PersonIcon />\n            </Avatar>\n          </ListItemAvatar>\n          <ListItemText\n            primary={getFullName(user.firstName, user.lastName)}\n            secondary={`${user.email} • @${user.username}`}\n          />\n          <ListItemSecondaryAction>\n            <Button\n              variant=\"outlined\"\n              size=\"small\"\n              startIcon={<PersonAddIcon />}\n              onClick={() => handleSendFriendRequest(user.id)}\n              disabled={isLoading}\n            >\n              Adicionar\n            </Button>\n          </ListItemSecondaryAction>\n        </ListItem>\n      ))}\n      {searchResults.length === 0 && searchQuery && !isSearching && (\n        <ListItem>\n          <ListItemText\n            primary=\"Nenhum usuário encontrado\"\n            secondary=\"Tente buscar por outro nome ou email\"\n          />\n        </ListItem>\n      )}\n    </List>\n  );\n\n  const renderFriends = () => (\n    <List>\n      {friends.map((friend) => (\n        <ListItem key={friend.id}>\n          <ListItemAvatar>\n            <Avatar>\n              <PersonIcon />\n            </Avatar>\n          </ListItemAvatar>\n          <ListItemText\n            primary={getFullName(friend.firstName, friend.lastName)}\n            secondary={\n              <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  {friend.email}\n                </Typography>\n                <Chip\n                  label={friend.isOnline ? 'Online' : 'Offline'}\n                  size=\"small\"\n                  color={friend.isOnline ? 'success' : 'default'}\n                  variant=\"outlined\"\n                />\n              </Box>\n            }\n          />\n          <ListItemSecondaryAction>\n            <IconButton color=\"primary\" size=\"small\">\n              <MessageIcon />\n            </IconButton>\n          </ListItemSecondaryAction>\n        </ListItem>\n      ))}\n      {friends.length === 0 && (\n        <ListItem>\n          <ListItemText\n            primary=\"Nenhum amigo ainda\"\n            secondary=\"Que tal buscar por alguns amigos?\"\n          />\n        </ListItem>\n      )}\n    </List>\n  );\n\n  const renderPendingRequests = () => (\n    <List>\n      {pendingRequests.map((request) => (\n        <ListItem key={request.id}>\n          <ListItemAvatar>\n            <Avatar>\n              <PersonIcon />\n            </Avatar>\n          </ListItemAvatar>\n          <ListItemText\n            primary={getFullName(request.requester.firstName, request.requester.lastName)}\n            secondary={\n              <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  {request.requester.email}\n                </Typography>\n                <Chip\n                  label={request.status}\n                  size=\"small\"\n                  color={getStatusColor(request.status) as any}\n                  variant=\"outlined\"\n                />\n              </Box>\n            }\n          />\n          <ListItemSecondaryAction>\n            <Box sx={{ display: 'flex', gap: 1 }}>\n              <IconButton\n                color=\"success\"\n                size=\"small\"\n                onClick={() => openConfirmDialog(\n                  'accept', \n                  request.id, \n                  getFullName(request.requester.firstName, request.requester.lastName)\n                )}\n              >\n                <CheckIcon />\n              </IconButton>\n              <IconButton\n                color=\"error\"\n                size=\"small\"\n                onClick={() => openConfirmDialog(\n                  'reject', \n                  request.id, \n                  getFullName(request.requester.firstName, request.requester.lastName)\n                )}\n              >\n                <CloseIcon />\n              </IconButton>\n            </Box>\n          </ListItemSecondaryAction>\n        </ListItem>\n      ))}\n      {pendingRequests.length === 0 && (\n        <ListItem>\n          <ListItemText\n            primary=\"Nenhuma solicitação pendente\"\n            secondary=\"Você está em dia com suas solicitações de amizade!\"\n          />\n        </ListItem>\n      )}\n    </List>\n  );\n\n  return (\n    <Container maxWidth=\"md\" sx={{ py: 4 }}>\n      <Typography variant=\"h4\" component=\"h1\" gutterBottom sx={{ mb: 4 }}>\n        👥 Amigos\n      </Typography>\n\n      {error && (\n        <Alert severity=\"error\" sx={{ mb: 3 }}>\n          {error}\n        </Alert>\n      )}\n\n      <Paper elevation={3}>\n        <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\n          <Tabs value={tabValue} onChange={handleTabChange} aria-label=\"friends tabs\">\n            <Tab label={`Buscar Amigos`} />\n            <Tab label={`Meus Amigos (${friends.length})`} />\n            <Tab label={`Solicitações (${pendingRequests.length})`} />\n          </Tabs>\n        </Box>\n\n        <TabPanel value={tabValue} index={0}>\n          <Box sx={{ mb: 3 }}>\n            <TextField\n              fullWidth\n              placeholder=\"Buscar amigos por nome ou email...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              onKeyPress={handleSearchKeyPress}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <SearchIcon />\n                  </InputAdornment>\n                ),\n                endAdornment: (\n                  <InputAdornment position=\"end\">\n                    <Button\n                      variant=\"contained\"\n                      onClick={handleSearch}\n                      disabled={isSearching || !searchQuery.trim()}\n                    >\n                      {isSearching ? <CircularProgress size={20} /> : 'Buscar'}\n                    </Button>\n                  </InputAdornment>\n                ),\n              }}\n            />\n          </Box>\n          {renderSearchResults()}\n        </TabPanel>\n\n        <TabPanel value={tabValue} index={1}>\n          {renderFriends()}\n        </TabPanel>\n\n        <TabPanel value={tabValue} index={2}>\n          {renderPendingRequests()}\n        </TabPanel>\n      </Paper>\n\n      {/* Dialog de Confirmação */}\n      <Dialog open={confirmDialog.open} onClose={closeConfirmDialog}>\n        <DialogTitle>\n          {confirmDialog.action === 'accept' ? 'Aceitar Solicitação' : 'Rejeitar Solicitação'}\n        </DialogTitle>\n        <DialogContent>\n          <Typography>\n            {confirmDialog.action === 'accept'\n              ? `Deseja aceitar a solicitação de amizade de ${confirmDialog.userName}?`\n              : `Deseja rejeitar a solicitação de amizade de ${confirmDialog.userName}?`}\n          </Typography>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={closeConfirmDialog}>Cancelar</Button>\n          <Button\n            onClick={() =>\n              handleRespondToRequest(\n                confirmDialog.friendshipId!,\n                confirmDialog.action === 'accept'\n              )\n            }\n            color={confirmDialog.action === 'accept' ? 'success' : 'error'}\n            variant=\"contained\"\n          >\n            {confirmDialog.action === 'accept' ? 'Aceitar' : 'Rejeitar'}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Container>\n  );\n}\n\nexport default FriendsPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}