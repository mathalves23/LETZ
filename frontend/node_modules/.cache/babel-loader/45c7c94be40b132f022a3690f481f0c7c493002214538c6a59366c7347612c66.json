{"ast":null,"code":"import React,{useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{Box,Snackbar,Alert,Dialog,DialogTitle,DialogContent,DialogActions,Button,Typography}from'@mui/material';import{Provider}from'react-redux';import{store}from'./store/store';import{ModernThemeProvider}from'./contexts/ModernThemeContext';import{usePWA}from'./hooks/usePWA';import{CloudOff as OfflineIcon,Wifi as OnlineIcon}from'@mui/icons-material';// PÃ¡ginas Modernas\nimport LoginPage from'./pages/LoginPage';import RegisterPage from'./pages/RegisterPage';import ModernHomePage from'./pages/ModernHomePage';import EventsPage from'./pages/EventsPage';import CreateEventPage from'./pages/CreateEventPage';import FriendsPage from'./pages/FriendsPage';import ProfilePage from'./pages/ProfilePage';import EventDetailsPage from'./pages/EventDetailsPage';import NotificationsPage from'./pages/NotificationsPage';import MessagesPage from'./pages/MessagesPage';import SettingsPage from'./pages/SettingsPage';import DemoPage from'./pages/DemoPage';// Componentes Modernos\nimport ModernNavbar from'./components/ModernNavbar';import ProtectedRoute from'./components/ProtectedRoute';// Hook para verificar autenticaÃ§Ã£o\nimport{useAppSelector}from'./hooks/redux';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function PWAManager(){const{isOnline,isInstallable,isInstalled,isLoading,notificationPermission,installApp,requestNotificationPermission,showNotification,isSupported}=usePWA();const[installDialogOpen,setInstallDialogOpen]=React.useState(false);const[notificationDialogOpen,setNotificationDialogOpen]=React.useState(false);const[offlineSnackbarOpen,setOfflineSnackbarOpen]=React.useState(false);// Verificar suporte PWA e exibir prompt de instalaÃ§Ã£o apÃ³s delay\nuseEffect(()=>{if(isInstallable&&!isInstalled){const timer=setTimeout(()=>{setInstallDialogOpen(true);},10000);// Mostrar apÃ³s 10 segundos\nreturn()=>clearTimeout(timer);}},[isInstallable,isInstalled]);// Exibir prompt de notificaÃ§Ãµes apÃ³s instalaÃ§Ã£o ou primeiro acesso\nuseEffect(()=>{if(notificationPermission==='default'&&isSupported.notifications){const hasShownNotificationPrompt=localStorage.getItem('letz-notification-prompt-shown');if(!hasShownNotificationPrompt){const timer=setTimeout(()=>{setNotificationDialogOpen(true);localStorage.setItem('letz-notification-prompt-shown','true');},15000);// Mostrar apÃ³s 15 segundos\nreturn()=>clearTimeout(timer);}}},[notificationPermission,isSupported.notifications]);// Monitor de conexÃ£o\nuseEffect(()=>{if(!isOnline){setOfflineSnackbarOpen(true);}},[isOnline]);// Ouvir eventos de conteÃºdo compartilhado\nuseEffect(()=>{const handleSharedContent=event=>{const sharedData=event.detail;console.log('ðŸ“¤ ConteÃºdo compartilhado recebido:',sharedData);// Redirecionar para criaÃ§Ã£o de evento com dados prÃ©-preenchidos\nif(sharedData.title||sharedData.text){showNotification('LETZ',{body:'ConteÃºdo compartilhado recebido! Redirecionando...',tag:'shared-content'});}};window.addEventListener('sharedcontent',handleSharedContent);return()=>window.removeEventListener('sharedcontent',handleSharedContent);},[showNotification]);const handleInstallApp=async()=>{const success=await installApp();if(success){showNotification('LETZ Instalado!',{body:'O LETZ foi instalado com sucesso em seu dispositivo!',tag:'app-installed'});}setInstallDialogOpen(false);};const handleRequestNotifications=async()=>{const granted=await requestNotificationPermission();if(granted){showNotification('NotificaÃ§Ãµes Ativadas!',{body:'VocÃª receberÃ¡ notificaÃ§Ãµes sobre novos eventos e mensagens.',tag:'notifications-enabled'});}setNotificationDialogOpen(false);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Box,{sx:{position:'fixed',top:80,right:16,zIndex:999,display:'flex',alignItems:'center',gap:1,background:isOnline?'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)':'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)',color:'white',padding:'8px 16px',borderRadius:'20px',fontSize:'0.875rem',fontWeight:600,backdropFilter:'blur(20px)',boxShadow:'0 4px 20px rgba(0, 0, 0, 0.15)',transition:'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',transform:isOnline?'translateY(0)':'translateY(0)',opacity:isOnline?0.9:1},children:[isOnline?/*#__PURE__*/_jsx(OnlineIcon,{fontSize:\"small\"}):/*#__PURE__*/_jsx(OfflineIcon,{fontSize:\"small\"}),isOnline?'Conectado':'Modo Offline']}),/*#__PURE__*/_jsxs(Dialog,{open:installDialogOpen,onClose:()=>setInstallDialogOpen(false),PaperProps:{sx:{borderRadius:'24px',background:'linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(248,250,252,0.9) 100%)',backdropFilter:'blur(20px)',border:'1px solid rgba(255,255,255,0.2)',minWidth:400}},children:[/*#__PURE__*/_jsx(DialogTitle,{sx:{fontSize:'1.5rem',fontWeight:700,background:'linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #ec4899 100%)',WebkitBackgroundClip:'text',WebkitTextFillColor:'transparent',backgroundClip:'text'},children:\"\\uD83D\\uDE80 Instalar LETZ\"}),/*#__PURE__*/_jsxs(DialogContent,{sx:{py:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",sx:{mb:3,lineHeight:1.6},children:\"Transforme sua experi\\xEAncia! Instale o LETZ em seu dispositivo para acesso instant\\xE2neo e recursos exclusivos.\"}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:'column',gap:2},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:2},children:[/*#__PURE__*/_jsx(Box,{sx:{width:32,height:32,borderRadius:'8px',background:'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(Typography,{sx:{color:'white',fontSize:'1.2rem'},children:\"\\u2713\"})}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Acesso offline aos seus eventos favoritos\"})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:2},children:[/*#__PURE__*/_jsx(Box,{sx:{width:32,height:32,borderRadius:'8px',background:'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(Typography,{sx:{color:'white',fontSize:'1.2rem'},children:\"\\uD83D\\uDD14\"})}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Notifica\\xE7\\xF5es push em tempo real\"})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:2},children:[/*#__PURE__*/_jsx(Box,{sx:{width:32,height:32,borderRadius:'8px',background:'linear-gradient(135deg, #6366f1 0%, #4f46e5 100%)',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(Typography,{sx:{color:'white',fontSize:'1.2rem'},children:\"\\u26A1\"})}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Sincroniza\\xE7\\xE3o autom\\xE1tica e r\\xE1pida\"})]})]})]}),/*#__PURE__*/_jsxs(DialogActions,{sx:{p:3,pt:0},children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setInstallDialogOpen(false),sx:{borderRadius:'12px',px:3,color:'text.secondary'},children:\"Talvez depois\"}),/*#__PURE__*/_jsx(Button,{onClick:handleInstallApp,variant:\"contained\",disabled:isLoading,sx:{borderRadius:'12px',px:4,background:'linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #ec4899 100%)','&:hover':{background:'linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #ec4899 100%)',filter:'brightness(1.1)',transform:'translateY(-2px)'}},children:isLoading?'Instalando...':'ðŸš€ Instalar Agora'})]})]}),/*#__PURE__*/_jsxs(Dialog,{open:notificationDialogOpen,onClose:()=>setNotificationDialogOpen(false),PaperProps:{sx:{borderRadius:'24px',background:'linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(248,250,252,0.9) 100%)',backdropFilter:'blur(20px)',border:'1px solid rgba(255,255,255,0.2)',minWidth:400}},children:[/*#__PURE__*/_jsx(DialogTitle,{sx:{fontSize:'1.5rem',fontWeight:700,background:'linear-gradient(135deg, #f59e0b 0%, #ec4899 100%)',WebkitBackgroundClip:'text',WebkitTextFillColor:'transparent',backgroundClip:'text'},children:\"\\uD83D\\uDD14 Ativar Notifica\\xE7\\xF5es\"}),/*#__PURE__*/_jsxs(DialogContent,{sx:{py:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",sx:{mb:3,lineHeight:1.6},children:\"N\\xE3o perca nenhum momento especial! Ative as notifica\\xE7\\xF5es para receber atualiza\\xE7\\xF5es sobre seus eventos favoritos.\"}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:'column',gap:2},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:2},children:[/*#__PURE__*/_jsx(Box,{sx:{width:32,height:32,borderRadius:'8px',background:'linear-gradient(135deg, #ec4899 0%, #be185d 100%)',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(Typography,{sx:{color:'white',fontSize:'1.2rem'},children:\"\\uD83D\\uDC8C\"})}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Novos convites para eventos\"})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:2},children:[/*#__PURE__*/_jsx(Box,{sx:{width:32,height:32,borderRadius:'8px',background:'linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(Typography,{sx:{color:'white',fontSize:'1.2rem'},children:\"\\uD83D\\uDC65\"})}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Atualiza\\xE7\\xF5es de amigos\"})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:2},children:[/*#__PURE__*/_jsx(Box,{sx:{width:32,height:32,borderRadius:'8px',background:'linear-gradient(135deg, #06b6d4 0%, #0891b2 100%)',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(Typography,{sx:{color:'white',fontSize:'1.2rem'},children:\"\\u23F0\"})}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Lembretes de eventos pr\\xF3ximos\"})]})]})]}),/*#__PURE__*/_jsxs(DialogActions,{sx:{p:3,pt:0},children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setNotificationDialogOpen(false),sx:{borderRadius:'12px',px:3,color:'text.secondary'},children:\"N\\xE3o agora\"}),/*#__PURE__*/_jsx(Button,{onClick:handleRequestNotifications,variant:\"contained\",sx:{borderRadius:'12px',px:4,background:'linear-gradient(135deg, #f59e0b 0%, #ec4899 100%)','&:hover':{background:'linear-gradient(135deg, #f59e0b 0%, #ec4899 100%)',filter:'brightness(1.1)',transform:'translateY(-2px)'}},children:\"\\uD83D\\uDD14 Ativar Notifica\\xE7\\xF5es\"})]})]}),/*#__PURE__*/_jsx(Snackbar,{open:offlineSnackbarOpen,autoHideDuration:6000,onClose:()=>setOfflineSnackbarOpen(false),anchorOrigin:{vertical:'bottom',horizontal:'center'},children:/*#__PURE__*/_jsx(Alert,{onClose:()=>setOfflineSnackbarOpen(false),severity:\"warning\",sx:{borderRadius:'16px',background:'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)',color:'white','& .MuiAlert-icon':{color:'white'}},children:\"Voc\\xEA est\\xE1 offline. Algumas funcionalidades podem estar limitadas.\"})})]});}function AppContent(){const{isAuthenticated}=useAppSelector(state=>state.auth);return/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:'column',minHeight:'100vh'},children:[isAuthenticated&&/*#__PURE__*/_jsx(ModernNavbar,{}),/*#__PURE__*/_jsx(PWAManager,{}),/*#__PURE__*/_jsx(Box,{component:\"main\",sx:{flexGrow:1,pt:isAuthenticated?8:0},children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:!isAuthenticated?/*#__PURE__*/_jsx(LoginPage,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\"})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:!isAuthenticated?/*#__PURE__*/_jsx(RegisterPage,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\"})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(ModernHomePage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/events\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(EventsPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/events/create\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(CreateEventPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/events/:eventId\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(EventDetailsPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/friends\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(FriendsPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(ProfilePage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/notifications\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(NotificationsPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/messages\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(MessagesPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/settings\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(SettingsPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/demo\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(DemoPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/achievements\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83C\\uDFC6 Conquistas em Desenvolvimento\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Sistema de gamifica\\xE7\\xE3o ser\\xE1 implementado em breve!\"})]})})}),/*#__PURE__*/_jsx(Route,{path:\"/analytics\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDCCA Analytics em Desenvolvimento\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Dashboard de analytics ser\\xE1 implementado em breve!\"})]})})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:isAuthenticated?/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\"}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:isAuthenticated?/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\"}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})})]})})]});}function App(){return/*#__PURE__*/_jsx(Provider,{store:store,children:/*#__PURE__*/_jsx(ModernThemeProvider,{children:/*#__PURE__*/_jsx(Router,{future:{v7_startTransition:true,v7_relativeSplatPath:true},children:/*#__PURE__*/_jsx(AppContent,{})})})});}export default App;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}